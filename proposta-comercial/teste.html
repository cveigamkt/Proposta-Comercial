<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste do Sistema - Heat Digital</title>
    <link rel="stylesheet" href="proposta-styles.css">
    <style>
        .teste-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #1a1a1a;
            border-radius: 15px;
            margin-top: 50px;
        }
        .teste-item {
            background: #252525;
            padding: 20px;
            margin: 15px 0;
            border-radius: 10px;
            border-left: 4px solid #1E5942;
        }
        .teste-item h3 {
            color: #1E5942;
            margin-bottom: 10px;
        }
        .status {
            padding: 5px 10px;
            border-radius: 5px;
            font-weight: bold;
            margin-left: 10px;
        }
        .ok { background: #28a745; color: white; }
        .erro { background: #dc3545; color: white; }
        .btn-teste {
            background: #1E5942;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        .btn-teste:hover {
            background: #267356;
        }
    </style>
</head>
<body>
    <div class="teste-container">
        <h1 style="text-align: center; color: #1E5942; margin-bottom: 30px;">ğŸ§ª Teste do Sistema</h1>
        
        <div class="teste-item">
            <h3>1. CSS Carregado <span id="css-status" class="status erro">âŒ Erro</span></h3>
            <p>Verificando se o arquivo CSS estÃ¡ sendo carregado corretamente...</p>
        </div>
        
        <div class="teste-item">
            <h3>2. NavegaÃ§Ã£o <span class="status ok">âœ… OK</span></h3>
            <p>Testando links de navegaÃ§Ã£o:</p>
            <button class="btn-teste" onclick="window.open('index.html', '_blank')">ğŸ  PÃ¡gina Inicial</button>
            <button class="btn-teste" onclick="window.open('proposta-gerador.html', '_blank')">ğŸ§¾ Gerador</button>
            <button class="btn-teste" onclick="testarVisualizacao()">ğŸ‘€ VisualizaÃ§Ã£o</button>
        </div>
        
        <div class="teste-item">
            <h3>3. JavaScript <span id="js-status" class="status erro">âŒ Erro</span></h3>
            <p>Verificando se o JavaScript estÃ¡ funcionando...</p>
            <button class="btn-teste" onclick="testarJS()">ğŸ”§ Testar JS</button>
        </div>
        
        <div class="teste-item">
            <h3>4. Responsividade <span id="responsive-status" class="status ok">âœ… OK</span></h3>
            <p>Teste redimensionando a janela do navegador para verificar se o layout se adapta.</p>
        </div>
        
        <div class="teste-item">
            <h3>5. Fontes <span id="font-status" class="status erro">âŒ Erro</span></h3>
            <p>Verificando se as fontes do Google estÃ£o carregando...</p>
        </div>
        
        <div class="teste-item">
            <h3>ğŸ“Š Resultado dos Testes</h3>
            <div id="resultado-testes">
                <p>Clique no botÃ£o abaixo para executar todos os testes:</p>
                <button class="btn-teste" onclick="executarTodosTestes()" style="background: #007bff;">ğŸš€ Executar Todos os Testes</button>
            </div>
        </div>
    </div>

    <script>
        // Verificar se CSS foi carregado
        function verificarCSS() {
            const elemento = document.createElement('div');
            elemento.className = 'teste-css-check';
            elemento.style.display = 'none';
            document.body.appendChild(elemento);
            
            const styles = window.getComputedStyle(elemento);
            const cssCarregado = document.querySelector('.teste-container') !== null;
            
            document.body.removeChild(elemento);
            
            const status = document.getElementById('css-status');
            if (cssCarregado) {
                status.textContent = 'âœ… OK';
                status.className = 'status ok';
            } else {
                status.textContent = 'âŒ Erro';
                status.className = 'status erro';
            }
            
            return cssCarregado;
        }
        
        // Verificar JavaScript
        function testarJS() {
            try {
                const teste = {
                    nome: 'Teste',
                    valor: 1000
                };
                
                const formatado = teste.valor.toLocaleString('pt-BR', { 
                    style: 'currency', 
                    currency: 'BRL' 
                });
                
                const status = document.getElementById('js-status');
                status.textContent = 'âœ… OK';
                status.className = 'status ok';
                
                alert('âœ… JavaScript funcionando! Valor formatado: ' + formatado);
                return true;
            } catch (error) {
                const status = document.getElementById('js-status');
                status.textContent = 'âŒ Erro';
                status.className = 'status erro';
                
                alert('âŒ Erro no JavaScript: ' + error.message);
                return false;
            }
        }
        
        // Verificar fontes
        function verificarFontes() {
            const testElement = document.createElement('div');
            testElement.style.fontFamily = 'Inter, sans-serif';
            testElement.style.position = 'absolute';
            testElement.style.visibility = 'hidden';
            testElement.textContent = 'Test';
            document.body.appendChild(testElement);
            
            const computedFont = window.getComputedStyle(testElement).fontFamily;
            document.body.removeChild(testElement);
            
            const status = document.getElementById('font-status');
            if (computedFont.includes('Inter')) {
                status.textContent = 'âœ… OK';
                status.className = 'status ok';
                return true;
            } else {
                status.textContent = 'âš ï¸ Fallback';
                status.className = 'status ok';
                return false;
            }
        }
        
        // Testar visualizaÃ§Ã£o com dados de exemplo
        function testarVisualizacao() {
            const dadosExemplo = {
                nomeCliente: 'JoÃ£o Silva',
                empresaCliente: 'Silva ComÃ©rcio Digital',
                emailCliente: 'joao@silvacomercio.com.br',
                servicoSocialMidia: 'scale',
                servicoTrafegoPago: 'foco',
                investimentoMidia: 'R$ 3.000,00',
                descontoDescricao: 'Teste do Sistema',
                descontoTipo: 'percentual',
                descontoValor: '10',
                observacoes: 'Proposta de teste - verificaÃ§Ã£o do sistema'
            };
            
            const params = new URLSearchParams(dadosExemplo);
            const linkTeste = `proposta-visualizacao.html?${params.toString()}`;
            
            window.open(linkTeste, '_blank');
        }
        
        // Executar todos os testes
        function executarTodosTestes() {
            const resultados = {
                css: verificarCSS(),
                js: true, // JÃ¡ estÃ¡ executando
                fontes: verificarFontes(),
                responsivo: true // Assumindo OK se chegou atÃ© aqui
            };
            
            const total = Object.keys(resultados).length;
            const sucessos = Object.values(resultados).filter(r => r).length;
            
            const resultado = document.getElementById('resultado-testes');
            resultado.innerHTML = `
                <h4>ğŸ“Š Resultado Final:</h4>
                <p><strong>${sucessos}/${total} testes passaram</strong></p>
                <ul>
                    <li>CSS: ${resultados.css ? 'âœ…' : 'âŒ'}</li>
                    <li>JavaScript: ${resultados.js ? 'âœ…' : 'âŒ'}</li>
                    <li>Fontes: ${resultados.fontes ? 'âœ…' : 'âš ï¸'}</li>
                    <li>Responsividade: ${resultados.responsivo ? 'âœ…' : 'âŒ'}</li>
                </ul>
                <p><strong>Status:</strong> ${sucessos === total ? 'ğŸ‰ Tudo funcionando!' : 'âš ï¸ Alguns problemas detectados'}</p>
            `;
        }
        
        // Executar verificaÃ§Ãµes automÃ¡ticas ao carregar
        window.addEventListener('load', function() {
            setTimeout(() => {
                verificarCSS();
                verificarFontes();
            }, 1000);
        });
    </script>
</body>
</html>